<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<task>
  <!-- =============== РЕСУРСЫ И ДЕЙСТВИЯ =============== -->
  <resource code="SSP_DICTIONARIES" name="Сервис справочников" subsystem="SSP_DICTIONARIES">
    <resource code="SSP_DICTIONARIES.Dictionaries" name="Работа со справочниками" subsystem="SSP_DICTIONARIES">
      <action code="SSP_DICTIONARIES.Dictionaries.View" name="Просмотр справочников" category="ADMIN"/>
      <action code="SSP_DICTIONARIES.Dictionaries.Add" name="Создание справочников" category="ADMIN"/>
      <action code="SSP_DICTIONARIES.Dictionaries.Edit" name="Редактирование информации о справочнике" category="ADMIN"/>
    </resource>
    <resource code="SSP_DICTIONARIES.Version" name="Работа со структурой справочников справочников" subsystem="SSP_DICTIONARIES">
      <action code="SSP_DICTIONARIES.Version.Edit" name="Редактирование структуры справочников" category="ADMIN"/>
      <action code="SSP_DICTIONARIES.Version.View" name="Просмотр структуры справочников" category="ADMIN"/>
    </resource>
    <resource code="SSP_DICTIONARIES.Data" name="Работа с содержанием справочников" subsystem="SSP_DICTIONARIES">
      <action code="SSP_DICTIONARIES.Data.Edit" name="Редактирование содержания справочников" category="ADMIN"/>
      <action code="SSP_DICTIONARIES.Data.View" name="Просмотр содержания справочников" category="ADMIN"/>
    </resource>
  </resource>

  <!-- =============== РОЛИ =============== -->
  <role code="DICTIONARIES_VIEWER_ROLE" name="Роль пользователя сервиса справочников" category="ADMIN" subsystem="SSP_DICTIONARIES">
    <needRoleSUDIR name="SSP_DICTIONARIES_VIEWER"/>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Data.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
  </role>


  <role code="DICTIONARIES_EDITOR_ROLE" name="Роль редактора данных сервиса справочников" category="ADMIN" subsystem="SSP_DICTIONARIES">
    <needRoleSUDIR name="SSP_DICTIONARIES_EDITOR"/>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Data.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Data.Edit"/>
      <channel-ref code="SUPPORT"/>
    </permission>
  </role>

  <role code="DICTIONARIES_OWNER_ROLE" name="Роль владельца справочников" category="ADMIN" subsystem="SSP_DICTIONARIES">
    <needRoleSUDIR name="SSP_DICTIONARIES_OWNER"/>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Version.Edit"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Version.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Data.Edit"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Data.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.Edit"/>
      <channel-ref code="SUPPORT"/>
    </permission>
  </role>

  <role code="DICTIONARIES_CREATOR_ROLE" name="Роль создателя справочников" category="ADMIN" subsystem="SSP_DICTIONARIES">
    <needRoleSUDIR name="SSP_DICTIONARIES_CREATOR"/>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.View"/>
      <channel-ref code="SUPPORT"/>
    </permission>
    <permission>
      <action-ref code="SSP_DICTIONARIES.Dictionaries.Add"/>
      <channel-ref code="SUPPORT"/>
    </permission>
  </role>

  <role code="GT_SERVICE_ADMIN_DICTIONARIES_ROLE" name="Роль сервисного администратора справочников" category="ADMIN" subsystem="SSP_DICTIONARIES">
    <needRoleSUDIR name="GT_SERVICE_ADMIN"/>
  </role>



  <!-- =============== ГРУППЫ =============== -->
  <group name="${tenant_code}-dictionaries-viewer" category_code="ADMIN" enabled="true" subsystem="SSP_DICTIONARIES">
    <groupCondition attr_name="ATTR_USER_ROLES" operation="=" attr_value="SSP_DICTIONARIES_VIEWER" section_name="VIRTUAL"/>
    <role-ref role_code="DICTIONARIES_VIEWER_ROLE"/>
  </group>

  <group name="${tenant_code}-dictionaries-editor" category_code="ADMIN" enabled="true" subsystem="SSP_DICTIONARIES">
    <groupCondition attr_name="ATTR_USER_ROLES" operation="=" attr_value="SSP_DICTIONARIES_EDITOR" section_name="VIRTUAL"/>
    <role-ref role_code="DICTIONARIES_EDITOR_ROLE"/>
  </group>

  <group name="${tenant_code}-gt-service-admin-dictionaries" category_code="ADMIN" enabled="true" subsystem="SSP_DICTIONARIES">
    <groupCondition attr_name="ATTR_USER_ROLES" operation="=" attr_value="GT_SERVICE_ADMIN" section_name="VIRTUAL"/>
    <role-ref role_code="GT_SERVICE_ADMIN_DICTIONARIES_ROLE"/>
  </group>
  <group name="${tenant_code}-dictionaries-creator" category_code="ADMIN" enabled="true" subsystem="SSP_DICTIONARIES">
    <groupCondition attr_name="ATTR_USER_ROLES" operation="=" attr_value="SSP_DICTIONARIES_CREATOR" section_name="VIRTUAL"/>
    <role-ref role_code="DICTIONARIES_CREATOR_ROLE"/>
  </group>
  <group name="${tenant_code}-dictionaries-owner" category_code="ADMIN" enabled="true" subsystem="SSP_DICTIONARIES">
    <groupCondition attr_name="ATTR_USER_ROLES" operation="=" attr_value="SSP_DICTIONARIES_OWNER" section_name="VIRTUAL"/>
    <role-ref role_code="DICTIONARIES_OWNER_ROLE"/>
  </group>
</task>